{"version":3,"sources":["pages/home/index.jsx","pages/bill/index.jsx","pages/apply/index.jsx","pages/todoApprove/index.jsx","components/TodoCard.jsx","pages/todoList/index.jsx","pages/todoDetail/index.jsx","Router.js","App.js","reportWebVitals.js","index.js"],"names":["Main","navigate","useNavigate","goTo","useContext","UserInfoContext","path","console","log","className","block","color","onClick","rand","min","max","Math","random","billColumns","approveColumns","person","applyReason","applyMoney","context","useSearchParams","searchParams","Form","useForm","form","useState","visible","setVisible","columns","secColumns","type","setType","loading","setLoading","loading1","setLoading1","workRecordId","setWorkRecordId","length","value","setValue","value1","setValue1","back","replace","onSubmit","axios","post","domain","userId","userName","flowStatus","then","res","data","success","Dialog","alert","content","onConfirm","JSON","stringify","catch","error","useEffect","str","get","uuid","parse","setFieldsValue","flow","approve","onBack","footer","disabled","style","marginLeft","Item","name","label","layout","placeholder","substring","onClose","v","options1","options","secOptions","setPerson","request","values","temp","short","generate","url","encodeURIComponent","a","validateFields","getList","pp","map","e","userid","flowTitleName","rules","required","message","find","TodoCard","props","id","title","submiter","reason","todo","size","ToDoList","processedList","setProcessedList","unprocessedList","setUnprocessedList","processedCount","setProcessedCount","unprocessedCount","setUnprocessedCount","taskStatus","list","result","forEach","forms","it","Tab","instanceId","TodoDetail","routeParams","useParams","单据模板","split","审批流","报销人","报销事由","报销金额","App","element","React","createContext","state","webDomain","corpId","authCode","this","login","Provider","status","setState","loginAction","_this","dd","permission","requestAuthCode","onSuccess","code","setTimeout","onFail","err","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5efe7b39.chunk.js","sourcesContent":["/**\n *  Created by pw on 2021/11/24 下午5:54.\n */\nimport React, { useContext } from 'react'\nimport { Button } from 'antd-mobile'\nimport { useNavigate } from 'react-router-dom'\nimport './index.css'\nimport { UserInfoContext } from '../../App'\n\nconst Main = () => {\n  let navigate = useNavigate()\n  const context = useContext(UserInfoContext)\n\n  const goTo = (path) => {\n    console.log('---path----', path)\n    navigate(path)\n  }\n  return (\n    <div className=\"main\">\n      <div className={'title'}>功能列表</div>\n      <Button\n        className={'button'}\n        block\n        color=\"primary\"\n        onClick={() => {\n          goTo('/apply')\n        }}\n      >\n        发起报销\n      </Button>\n      {/* <Button\n        className={'button'}\n        block\n        color=\"primary\"\n        onClick={() => {\n          goTo('/bill')\n        }}\n      >\n        单据详情\n      </Button> */}\n      <Button\n        className={'button'}\n        block\n        color=\"primary\"\n        onClick={() => {\n          goTo('/todoList')\n        }}\n      >\n        待办列表\n      </Button>\n      {/* <Button\n        className={'button'}\n        block\n        color=\"primary\"\n        onClick={() => {\n          goTo('/todoApprove')\n        }}\n      >\n        待办审批\n      </Button> */}\n    </div>\n  )\n}\nexport default Main\n","/**\n *  Created by pw on 2021/11/24 下午5:54.\n */\nimport React, { useState, useEffect, useContext } from 'react'\nimport { Form, Input, Button, Picker, NavBar, Dialog, TextArea, Toast } from 'antd-mobile'\nimport './index.css'\nimport { useNavigate, useParams, useSearchParams } from 'react-router-dom'\nimport { UserInfoContext } from '../../App'\nimport axios from 'axios'\nfunction rand(min, max) {\n  return (Math.random() * (max - min + 1) + min) | 0\n}\nconst billColumns = [['申请单', '报销单', '借款单']]\nconst approveColumns = [['审批流A', '审批流B', '审批流C', '审批流D', '审批流E']]\nconst person = ['张三', '李四', '王五', '赵六']\nconst applyReason = ['申请去北京的出差报销', '报销 4 月份的办公室费用', '6 月份团建费用报销']\nconst applyMoney = [12, 23, 200, 400, 666]\nconst Main = () => {\n  const navigate = useNavigate()\n  const context = useContext(UserInfoContext)\n  const [searchParams, setSearchParams] = useSearchParams()\n  const [form] = Form.useForm()\n  const [visible, setVisible] = useState(false)\n  const [columns, secColumns] = useState(billColumns)\n  const [type, setType] = useState('flow')\n  const [loading, setLoading] = useState(false)\n  const [loading1, setLoading1] = useState(false)\n  const [workRecordId, setWorkRecordId] = useState('')\n  const [value, setValue] = useState(billColumns[0][rand(0, billColumns[0].length - 1)])\n  const [value1, setValue1] = useState(approveColumns[0][rand(0, approveColumns[0].length - 1)])\n\n  const back = () => {\n    navigate('/', { replace: true })\n  }\n  const onSubmit = (type) => {\n    type === 'agree' ? setLoading(true) : setLoading1(true)\n    axios\n      .post(context.domain + '/biz/update', {\n        userId: context.userId,\n        userName: context.userName,\n        workRecordId: workRecordId,\n        flowStatus: type\n      })\n      .then((res) => {\n        type === 'agree' ? setLoading(false) : setLoading1(false)\n        if (res && res.data.success) {\n          Dialog.alert({\n            content: `${type === 'agree' ? '同意' : '驳回'}成功!`,\n            onConfirm: () => {\n              back()\n            }\n          })\n        } else {\n          alert('request failed --->' + JSON.stringify(res))\n        }\n      })\n      .catch((error) => {\n        type === 'agree' ? setLoading(false) : setLoading1(false)\n        alert('httpRequest failed --->' + JSON.stringify(error))\n      })\n  }\n  useEffect(() => {\n    const str = searchParams.get('data')\n    const uuid = searchParams.get('uuid')\n    axios\n      .post(context.domain + '/biz/query/uuid', { uuid })\n      .then((res) => {\n        if (res && res.data.success) {\n          setWorkRecordId(res.data.data)\n        } else {\n          alert('request failed --->' + JSON.stringify(res))\n        }\n      })\n      .catch((error) => {\n        type === 'agree' ? setLoading(false) : setLoading1(false)\n        alert('httpRequest failed --->' + JSON.stringify(error))\n      })\n    console.log('routeParams', str)\n    try {\n      const data = JSON.parse(str)\n      form.setFieldsValue({\n        flow: data?.['flowTitleName'] || '申请单',\n        approve: 'ww',\n        person: data?.['userName'] || person[rand(0, person.length - 1)],\n        applyReason: data?.['flowDesc'] || applyReason[rand(0, applyReason.length - 1)],\n        applyMoney: data?.['flowAmount'] || applyMoney[rand(0, applyMoney.length - 1)]\n      })\n      data?.['flowTitleName'] && setValue(data?.['flowTitleName'])\n    } catch (error) {\n      form.setFieldsValue({\n        flow: '申请单',\n        approve: 'ww',\n        person: person[rand(0, person.length - 1)],\n        applyReason: applyReason[rand(0, applyReason.length - 1)],\n        applyMoney: applyMoney[rand(0, applyMoney.length - 1)]\n      })\n    }\n  }, [])\n  return (\n    <div className=\"bill\">\n      <div className=\"header\">\n        <NavBar onBack={back}>{value}</NavBar>\n      </div>\n      <div className=\"form\">\n        <Form\n          form={form}\n          footer={\n            <div className=\"btns\">\n              <Button\n                block\n                type=\"submit\"\n                disabled={!workRecordId}\n                loading={loading}\n                color=\"primary\"\n                onClick={() => onSubmit('agree')}\n              >\n                同意\n              </Button>\n              <Button\n                block\n                type=\"submit\"\n                color=\"danger\"\n                loading={loading1}\n                disabled={!workRecordId}\n                style={{ marginLeft: '20px' }}\n                onClick={() => onSubmit('refuse')}\n              >\n                驳回\n              </Button>\n            </div>\n          }\n        >\n          <Form.Item name=\"flow\" label=\"单据模板\" layout=\"horizontal\">\n            <div\n              onClick={() => {\n                secColumns(billColumns)\n                setType('flow')\n                // !visible && setVisible(true)\n              }}\n            >\n              <Input placeholder=\"请选单据模板\" value={value} disabled />\n            </div>\n          </Form.Item>\n          <Form.Item name=\"approve\" label=\"审批流\">\n            <div\n              onClick={() => {\n                secColumns(approveColumns)\n                setType('approve')\n                // !visible && setVisible(true)\n              }}\n            >\n              <Input placeholder=\"请选择审批流\" value={value1} disabled />\n            </div>\n          </Form.Item>\n          <Form.Item name=\"person\" label={`${value?.substring(0, value?.length - 1) || '报销'}人`}>\n            <Input placeholder=\"请输入报销人\" disabled />\n          </Form.Item>\n          <Form.Item name=\"applyReason\" label={`${value?.substring(0, value?.length - 1) || '报销'}事由`}>\n            <Input placeholder=\"请输入报销事由\" disabled />\n          </Form.Item>\n          <Form.Item name=\"applyMoney\" label={`${value?.substring(0, value?.length - 1) || '报销'}金额`}>\n            <Input placeholder=\"请输入报销金额\" type=\"number\" disabled />\n          </Form.Item>\n        </Form>\n        <Picker\n          columns={columns}\n          visible={visible}\n          onClose={() => {\n            setVisible(false)\n          }}\n          value={value}\n          onConfirm={(v) => {\n            type === 'flow' ? setValue(v[0]) : setValue1(v[0])\n            form.setFieldsValue({ [type]: v[0] })\n          }}\n        />\n      </div>\n    </div>\n  )\n}\nexport default Main\n","/**\n *  Created by pw on 2021/11/24 下午5:54.\n */\nimport React, { useState, useContext, useEffect } from 'react'\nimport { Form, Input, Button, CascadePicker, NavBar, Dialog } from 'antd-mobile'\nimport './index.css'\nimport { useNavigate } from 'react-router-dom'\nimport { UserInfoContext } from '../../App'\nimport axios from 'axios'\nimport short from 'short-uuid'\n\nconst options1 = [\n  {\n    label: '申请单',\n    value: '申请单'\n  },\n  {\n    label: '报销单',\n    value: '报销单'\n  },\n  {\n    label: '借款单',\n    value: '借款单'\n  }\n]\n\nconst Main = () => {\n  const context = useContext(UserInfoContext)\n  console.log('-----', context)\n  const navigate = useNavigate()\n  const [form] = Form.useForm()\n  const [visible, setVisible] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const [value, setValue] = useState('申请单')\n  const [type, setType] = useState('flow')\n  const [options, secOptions] = useState(options1)\n  const [person, setPerson] = useState([])\n  const [value1, setValue1] = useState('')\n\n  const back = () => {\n    navigate('/', { replace: true })\n  }\n  const request = (values) => {\n    setLoading(true)\n    let temp = { ...values, userName: value1 }\n    const uuid = short.generate()\n    axios\n      .post(context.domain + '/biz/createTask', {\n        ...temp,\n        uuid,\n        url: `/#/bill?data=${encodeURIComponent(JSON.stringify(temp))}&uuid=${uuid}`\n      })\n      .then((res) => {\n        setLoading(false)\n        if (res && res.data.success) {\n          Dialog.alert({\n            content: '提交单据成功!',\n            onConfirm: () => {\n              back()\n            }\n          })\n        } else {\n          alert('request failed --->' + JSON.stringify(res))\n        }\n      })\n      .catch((error) => {\n        setLoading(false)\n        alert('httpRequest failed --->' + JSON.stringify(error))\n      })\n  }\n  const onSubmit = async () => {\n    try {\n      const values = await form.validateFields()\n      console.log(values)\n      request(values)\n    } catch (errorList) {\n      console.log(errorList)\n      // errorList.forEach(({ name, errors }) => {\n      //   // Do something...\n      // })\n    }\n  }\n  const getList = () => {\n    axios\n      .post(context.domain + '/biz/query/user/list')\n      .then((res) => {\n        if (res && res.data.success) {\n          const data = res?.data?.data\n          const pp = data.map((e) => {\n            return { label: e?.name, value: e?.userid }\n          })\n          setPerson(pp)\n        } else {\n          alert('request failed --->' + JSON.stringify(res))\n        }\n      })\n      .catch((error) => {\n        alert('httpRequest failed --->' + JSON.stringify(error))\n      })\n  }\n  useEffect(() => {\n    form.setFieldsValue({\n      flowTitleName: '申请单'\n    })\n    getList()\n  }, [])\n\n  return (\n    <div className=\"apply\">\n      <div className=\"header\">\n        <NavBar onBack={back}>{value}</NavBar>\n      </div>\n      <div className=\"form\">\n        <Form\n          form={form}\n          footer={\n            <div className=\"btns\">\n              <Button block type=\"submit\" color=\"primary\" onClick={onSubmit} loading={loading}>\n                提交送审\n              </Button>\n            </div>\n          }\n        >\n          <Form.Item\n            name=\"flowTitleName\"\n            label=\"单据模板\"\n            layout=\"horizontal\"\n            rules={[{ required: true, message: '单据模板为空' }]}\n          >\n            <div\n              onClick={() => {\n                secOptions(options1)\n                setType('flowTitleName')\n                !visible && setVisible(true)\n              }}\n            >\n              <Input placeholder=\"请选单据模板\" value={value} disabled />\n            </div>\n          </Form.Item>\n          <Form.Item\n            name=\"flowName\"\n            label={`${value?.substring(0, value?.length - 1) || '报销'}单名字`}\n            rules={[{ required: true, message: `${value?.substring(0, value?.length - 1) || '报销'}单名字不能为空` }]}\n          >\n            <Input placeholder={`请输入${value?.substring(0, value?.length - 1) || '报销'}单名字`} />\n          </Form.Item>\n          <Form.Item\n            name=\"userId\"\n            label={`${value?.substring(0, value?.length - 1) || '报销'}人`}\n            rules={[{ required: true, message: `${value?.substring(0, value?.length - 1) || '报销'}人不能为空` }]}\n          >\n            <div\n              onClick={() => {\n                if (person?.length > 0) {\n                  secOptions(person)\n                  setType('userId')\n                  !visible && setVisible(true)\n                } else {\n                  getList()\n                }\n              }}\n            >\n              <Input\n                placeholder={`请选择${value?.substring(0, value?.length - 1) || '报销'}人`}\n                value={value1}\n                disabled\n              />\n            </div>\n          </Form.Item>\n          <Form.Item\n            name=\"flowDesc\"\n            label={`${value?.substring(0, value?.length - 1) || '报销'}事由`}\n            rules={[{ required: true, message: `${value?.substring(0, value?.length - 1) || '报销'}事由不能为空` }]}\n          >\n            <Input placeholder={`请输入${value?.substring(0, value?.length - 1) || '报销'}事由`} />\n          </Form.Item>\n          <Form.Item\n            name=\"flowAmount\"\n            label={`${value?.substring(0, value?.length - 1) || '报销'}金额`}\n            rules={[{ required: true, message: `${value?.substring(0, value?.length - 1) || '报销'}金额不能为空` }]}\n          >\n            <Input placeholder={`请输入${value?.substring(0, value?.length - 1) || '报销'}金额`} />\n          </Form.Item>\n        </Form>\n        <CascadePicker\n          options={options}\n          visible={visible}\n          onClose={() => {\n            setVisible(false)\n          }}\n          value={value}\n          onConfirm={(v) => {\n            console.log('--------', v)\n            if (type === 'flowTitleName') {\n              setValue(v[0])\n            } else {\n              const e = person.find((e) => e?.value === v[0])\n              setValue1(e.label)\n            }\n            form.setFieldsValue({ [type]: v[0] })\n          }}\n        />\n      </div>\n    </div>\n  )\n}\nexport default Main\n","/**\n *  Created by pw on 2021/11/24 下午5:54.\n */\nimport React from 'react'\nimport { Button } from 'antd-mobile'\nimport './index.css'\n\nconst Main = () => {\n  const goTo = (path) => {}\n  return (\n    <div className=\"main\">\n      <div className={'title'}>发起报销</div>\n      <Button className={'button'} block color=\"primary\" onClick={goTo}>\n        待办审批\n      </Button>\n    </div>\n  )\n}\nexport default Main\n","import React from 'react'\nimport { Button } from 'antd-mobile'\nimport { useNavigate } from 'react-router-dom'\nimport './TodoCard.css'\n\nconst TodoCard = (props) => {\n  const { id, title, submiter, reason, todo } = props\n  const navigate = useNavigate()\n\n  const handleClick = () => {\n    delete todo['forms']\n    delete todo['taskId']\n    delete todo['url']\n    delete todo['instanceId']\n    navigate(`/todoDetail/${id}?data=${encodeURIComponent(JSON.stringify(todo))}`)\n  }\n\n  return (\n    <div className=\"todo-card\">\n      <div className=\"todo-title\">{title}</div>\n      <div className=\"user\">提交人：{submiter}</div>\n      <div className=\"reason\">报销事由：{reason}</div>\n      <div className=\"btn-wrap\">\n        <Button onClick={() => handleClick()} size=\"small\" color=\"primary\">\n          查看详情\n        </Button>\n      </div>\n    </div>\n  )\n}\n\nexport default TodoCard\n","/**\n *  Created by pw on 2021/11/24 下午5:54.\n */\nimport React, { useEffect, useState, useContext } from 'react'\nimport './index.css'\nimport { NavBar, Tabs } from 'antd-mobile'\nimport TodoCard from '../../components/TodoCard'\nimport { useNavigate } from 'react-router-dom'\nimport { UserInfoContext } from '../../App'\nimport axios from 'axios'\n\nfunction rand(min, max) {\n  return (Math.random() * (max - min + 1) + min) | 0\n}\nconst billColumns = [['申请单', '报销单', '借款单']]\nconst approveColumns = [['审批流A', '审批流B', '审批流C', '审批流D', '审批流E']]\nconst person = ['张三', '李四', '王五', '赵六']\nconst applyReason = ['申请去北京的出差报销', '报销 4 月份的办公室费用', '6 月份团建费用报销']\nconst applyMoney = [12, 23, 200, 400, 666]\n\nconst ToDoList = () => {\n  const navigate = useNavigate()\n  const context = useContext(UserInfoContext)\n  const [processedList, setProcessedList] = useState([])\n  const [unprocessedList, setUnprocessedList] = useState([])\n  const [processedCount, setProcessedCount] = useState(0)\n  const [unprocessedCount, setUnprocessedCount] = useState(0)\n\n  useEffect(() => {\n    axios\n      .post(context.domain + '/biz/query/tasks', {\n        userId: context.userId,\n        userName: context.userName,\n        taskStatus: 1\n      })\n      .then((res) => {\n        if (res?.data?.success) {\n          const data = res?.data?.data || {}\n          const list = data?.result?.list || []\n          list.forEach((e) => {\n            const forms = e?.forms || []\n            forms.forEach((it) => {\n              if (it?.title) {\n                e[it?.title] = it.content\n              }\n            })\n          })\n          setUnprocessedList(list)\n          setUnprocessedCount(list.length)\n        } else {\n          alert('request failed --->' + JSON.stringify(res))\n        }\n      })\n      .catch((error) => {\n        alert('httpRequest failed --->' + JSON.stringify(error))\n      })\n    axios\n      .post(context.domain + '/biz/query/tasks', {\n        userId: context.userId,\n        userName: context.userName,\n        taskStatus: 0\n      })\n      .then((res) => {\n        if (res?.data?.success) {\n          const data = res?.data?.data || {}\n          const list = data?.result?.list || []\n          list.forEach((e) => {\n            const forms = e?.forms || []\n            forms.forEach((it) => {\n              if (it?.title) {\n                e[it?.title] = it.content\n              }\n            })\n          })\n          setProcessedList(list)\n          setProcessedCount(list.length)\n        } else {\n          alert('request failed --->' + JSON.stringify(res))\n        }\n      })\n      .catch((error) => {\n        alert('httpRequest failed --->' + JSON.stringify(error))\n      })\n  }, [context])\n\n  return (\n    <div className=\"todo-list\">\n      <NavBar\n        onBack={() => {\n          navigate('/', { replace: true })\n        }}\n      >\n        查看待办\n      </NavBar>\n      <div className={'nav-title'}></div>\n      <Tabs>\n        <Tabs.Tab title={'未处理 ' + processedCount} key=\"未处理\">\n          {processedList?.map((todo) => (\n            <TodoCard\n              todo={todo}\n              id={todo.instanceId}\n              key={todo.instanceId}\n              title={todo.title}\n              reason={todo?.['申请事由'] || applyReason[rand(0, applyReason.length - 1)]}\n              submiter={todo?.['报销人'] || person[rand(0, person.length - 1)]}\n            />\n          ))}\n        </Tabs.Tab>\n        <Tabs.Tab title={'已处理 ' + unprocessedCount} key=\"已处理\">\n          {unprocessedList?.map((todo) => (\n            <TodoCard\n              todo={todo}\n              id={todo.instanceId}\n              key={todo.instanceId}\n              title={todo.title}\n              reason={todo?.['申请事由'] || applyReason[rand(0, applyReason.length - 1)]}\n              submiter={todo?.['报销人'] || person[rand(0, person.length - 1)]}\n            />\n          ))}\n        </Tabs.Tab>\n      </Tabs>\n    </div>\n  )\n}\n\nexport default ToDoList\n","import React, { useEffect, useState, useContext } from 'react'\nimport { useNavigate, useParams, useSearchParams } from 'react-router-dom'\nimport { NavBar, Form, Input, Button, Dialog, TextArea } from 'antd-mobile'\nimport axios from 'axios'\nimport { UserInfoContext } from '../../App'\nimport './index.css'\n\nfunction rand(min, max) {\n  return (Math.random() * (max - min + 1) + min) | 0\n}\nconst billColumns = [['申请单', '报销单', '借款单']]\nconst approveColumns = [['审批流A', '审批流B', '审批流C', '审批流D', '审批流E']]\nconst person = ['张三', '李四', '王五', '赵六']\nconst applyReason = ['申请去北京的出差报销', '报销 4 月份的办公室费用', '6 月份团建费用报销']\nconst applyMoney = [12, 23, 200, 400, 666]\nconst TodoDetail = (props) => {\n  const navigate = useNavigate()\n  const context = useContext(UserInfoContext)\n  const [form] = Form.useForm()\n  const routeParams = useParams()\n  const [searchParams, setSearchParams] = useSearchParams()\n  const [loading, setLoading] = useState(false)\n  const [loading1, setLoading1] = useState(false)\n\n  const back = () => {\n    navigate('/todoList', { replace: true })\n  }\n  const onAgree = () => {\n    const { id } = routeParams\n    setLoading(true)\n    axios\n      .post(context.domain + '/biz/update', {\n        userId: context.userId,\n        userName: context.userName,\n        workRecordId: id,\n        flowStatus: 'agree'\n      })\n      .then((res) => {\n        setLoading(false)\n        if (res && res.data.success) {\n          Dialog.alert({\n            content: '同意成功!',\n            onConfirm: () => {\n              back()\n            }\n          })\n        } else {\n          alert('request failed --->' + JSON.stringify(res))\n        }\n      })\n      .catch((error) => {\n        setLoading(false)\n        alert('httpRequest failed --->' + JSON.stringify(error))\n      })\n  }\n\n  const onReject = () => {\n    const { id } = routeParams\n    setLoading1(true)\n    axios\n      .post(context.domain + '/biz/update', {\n        userId: context.userId,\n        userName: context.userName,\n        workRecordId: id,\n        flowStatus: 'refuse'\n      })\n      .then((res) => {\n        setLoading1(false)\n        if (res && res.data.success) {\n          Dialog.alert({\n            content: '驳回成功!',\n            onConfirm: () => {\n              back()\n            }\n          })\n        } else {\n          alert('request failed --->' + JSON.stringify(res))\n        }\n      })\n      .catch((error) => {\n        setLoading1(false)\n        alert('httpRequest failed --->' + JSON.stringify(error))\n      })\n  }\n\n  useEffect(() => {\n    const str = searchParams.get('data')\n    console.log('routeParams', routeParams, str)\n    try {\n      const data = JSON.parse(str)\n      form.setFieldsValue({\n        单据模板: data?.title?.split('的')?.[1] || billColumns[0][rand(0, billColumns[0].length - 1)],\n        审批流: approveColumns[0][rand(0, approveColumns[0].length - 1)],\n        报销人: data?.['报销人'] || person[rand(0, person.length - 1)],\n        报销事由: data?.['申请事由'] || applyReason[rand(0, applyReason.length - 1)],\n        报销金额: data?.['申请金额'] || applyMoney[rand(0, applyMoney.length - 1)]\n      })\n      console.log('routeParams', routeParams, data)\n    } catch (error) {\n      form.setFieldsValue({\n        单据模板: billColumns[0][rand(0, billColumns[0].length - 1)],\n        审批流: approveColumns[0][rand(0, approveColumns[0].length - 1)],\n        报销人: person[rand(0, person.length - 1)],\n        报销事由: applyReason[rand(0, applyReason.length - 1)],\n        报销金额: applyMoney[rand(0, applyMoney.length - 1)]\n      })\n    }\n  }, [])\n\n  return (\n    <div className=\"todo-detail\">\n      <NavBar onBack={back}>待办详情</NavBar>\n      <div className=\"todo-detail-content\">\n        <Form\n          form={form}\n          footer={\n            <>\n              <Button block type=\"submit\" color=\"primary\" onClick={onAgree} loading={loading}>\n                同意\n              </Button>\n              <Button block type=\"submit\" color=\"danger\" onClick={onReject} loading={loading1}>\n                驳回\n              </Button>\n            </>\n          }\n        >\n          <Form.Item\n            className=\"row\"\n            layout=\"horizontal\"\n            name=\"单据模板\"\n            label=\"单据模板\"\n            rules={[{ required: true, message: '请选择单据模板' }]}\n          >\n            <Input placeholder=\"请选择单据模板\" disabled value={billColumns[0][rand(0, billColumns[0].length - 1)]} />\n          </Form.Item>\n          <Form.Item name=\"审批流\" label=\"审批流\" rules={[{ required: true, message: '请选择审批流' }]}>\n            <Input\n              placeholder=\"请选择审批流\"\n              disabled\n              value={approveColumns[0][rand(0, approveColumns[0].length - 1)]}\n            />\n          </Form.Item>\n          <Form.Item name=\"报销人\" label=\"报销人\" rules={[{ required: true, message: '请选择报销人' }]}>\n            <Input placeholder=\"请选择报销人\" disabled value={person[rand(0, person.length - 1)]} />\n          </Form.Item>\n          <Form.Item name=\"报销事由\" label=\"报销事由\" rules={[{ required: true, message: '请输入报销事由' }]}>\n            <TextArea placeholder=\"请输入报销事由\" disabled value={applyReason[rand(0, applyReason.length - 1)]} />\n          </Form.Item>\n          <Form.Item name=\"报销金额\" label=\"报销金额\" rules={[{ required: true, message: '请输入报销金额' }]}>\n            <Input placeholder=\"请输入报销金额\" disabled value={applyMoney[rand(0, applyMoney.length - 1)]} />\n          </Form.Item>\n        </Form>\n      </div>\n    </div>\n  )\n}\n\nexport default TodoDetail\n","import React from 'react'\nimport { BrowserRouter as Router, HashRouter, Routes, Route } from 'react-router-dom'\nimport Home from './pages/home'\nimport Bill from './pages/bill'\nimport Apply from './pages/apply'\nimport TodoApprove from './pages/todoApprove'\nimport TodoList from './pages/todoList'\nimport TodoDetail from './pages/todoDetail'\n\nexport default function App() {\n  return (\n    <HashRouter>\n      <Routes>\n        <Route path=\"/\" element={<Home />} />\n        <Route path=\"/home\" element={<Home />} />\n        <Route path=\"/bill\" element={<Bill />} />\n        <Route path=\"/apply\" element={<Apply />} />\n        <Route path=\"/todoApprove\" element={<TodoApprove />} />\n        <Route path=\"/todoList\" element={<TodoList />} />\n        <Route path=\"/todoDetail\" element={<TodoDetail />}>\n          <Route path=\":id\" element={<TodoDetail />} />\n        </Route>\n      </Routes>\n    </HashRouter>\n  )\n}\n","import axios from 'axios';\nimport React from 'react';\nimport './App.css';\nimport * as dd from \"dingtalk-jsapi\";\nimport Router from './Router'\n\nexport const UserInfoContext = React.createContext({})\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      //内网穿透工具介绍:\n      // https://developers.dingtalk.com/document/resourcedownload/http-intranet-penetration?pnamespace=app\n      domain: '',\n      webDomain: '',\n      corpId: '',\n      authCode: '',\n      userId: '',\n      userName: ''\n      // userId: '01222149405038033292',\n      // userName: '陈苍山'\n    }\n  }\n\n  componentDidMount() {\n    // 免登操作\n    this.login()\n  }\n  render() {\n    // if (this.state.userId === '') {\n    //   // 免登操作\n    //   this.login()\n    // }\n    return (\n      // 主编写模块\n      <div className=\"App\">\n        <UserInfoContext.Provider value={this.state}>\n          <Router />\n        </UserInfoContext.Provider>\n        <div className=\"fixName\">{this.state.userName ? `易快报` : ``}</div>\n      </div>\n    )\n  }\n\n  //登录-获取corpId\n  login() {\n    axios\n      .get(this.state.domain + '/getCorpId')\n      .then((res) => {\n        if (res && res.status === 200) {\n          const corpId = res.data\n          this.setState({ corpId })\n          this.loginAction(corpId)\n        } else {\n          alert('login failed --->' + JSON.stringify(res))\n        }\n      })\n      .catch((error) => {\n        alert('corpId err, ' + JSON.stringify(error))\n      })\n    // this.loginAction('dingffe554ce94dc7033acaaa37764f94726')\n  }\n\n  //登录操作\n  loginAction(corpId) {\n    let _this = this\n      dd?.runtime?.permission\n        ?.requestAuthCode({\n          corpId: corpId, //企业 corpId\n          onSuccess: function (res) {\n            // 调用成功时回调\n            _this.state.authCode = res.code\n            console.log('---------', res.code)\n            axios\n              .get(_this.state.domain + '/login?authCode=' + res.code)\n              .then((res) => {\n                if (res && res.data.success) {\n                  let userId = res.data.data.userId\n                  let userName = res.data.data.userName\n                  console.log('登录成功，你好' + userName + userId)\n                  setTimeout(function () {\n                    _this.setState({\n                      userId: userId,\n                      userName: userName\n                    })\n                  }, 0)\n                  // alert('login  --->' + JSON.stringify({ a: _this.state.authCode, b: userId, c: userName }))\n                } else {\n                  alert('login failed --->' + JSON.stringify(res))\n                }\n              })\n              .catch((error) => {\n                alert('httpRequest failed --->' + JSON.stringify(error))\n              })\n          },\n          onFail: function (err) {\n            // 调用失败时回调\n            alert('requestAuthCode failed --->' + JSON.stringify(err))\n          }\n        })\n        .catch((error) => {\n          console.log(error)\n        })\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}