(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{193:function(e,t,n){},212:function(e,t,n){},536:function(e,t,n){},538:function(e,t,n){},539:function(e,t,n){},549:function(e,t,n){},550:function(e,t,n){},551:function(e,t,n){},552:function(e,t,n){},554:function(e,t,n){"use strict";n.r(t);var l=n(0),i=n.n(l),a=n(33),c=n.n(a),o=(n(193),n(8)),s=n(11),d=n(16),r=n(17),u=n(23),j=n.n(u),b=(n(212),n(62)),v=n(31),f=n(10),h=n(5),O=(n(536),n(3)),m=function(){var e=Object(f.f)(),t=(Object(l.useContext)(Y),function(t){console.log("---path----",t),e(t)});return Object(O.jsxs)("div",{className:"main",children:[Object(O.jsx)("div",{className:"title",children:"\u529f\u80fd\u5217\u8868"}),Object(O.jsx)(h.a,{className:"button",block:!0,color:"primary",onClick:function(){t("/apply")},children:"\u53d1\u8d77\u62a5\u9500"}),Object(O.jsx)(h.a,{className:"button",block:!0,color:"primary",onClick:function(){t("/todoList")},children:"\u5f85\u529e\u5217\u8868"})]})},g=n(22),x=n(4);n(538);function p(e,t){return Math.random()*(t-e+1)+e|0}var N=[["\u7533\u8bf7\u5355","\u62a5\u9500\u5355","\u501f\u6b3e\u5355"]],y=[["\u5ba1\u6279\u6d41A","\u5ba1\u6279\u6d41B","\u5ba1\u6279\u6d41C","\u5ba1\u6279\u6d41D","\u5ba1\u6279\u6d41E"]],S=["\u5f20\u4e09","\u674e\u56db","\u738b\u4e94","\u8d75\u516d"],I=["\u7533\u8bf7\u53bb\u5317\u4eac\u7684\u51fa\u5dee\u62a5\u9500","\u62a5\u9500 4 \u6708\u4efd\u7684\u529e\u516c\u5ba4\u8d39\u7528","6 \u6708\u4efd\u56e2\u5efa\u8d39\u7528\u62a5\u9500"],k=[12,23,200,400,666],C=function(){var e=Object(f.f)(),t=Object(l.useContext)(Y),n=Object(v.b)(),i=Object(x.a)(n,2),a=i[0],c=(i[1],h.d.useForm()),o=Object(x.a)(c,1)[0],s=Object(l.useState)(!1),d=Object(x.a)(s,2),r=d[0],u=d[1],b=Object(l.useState)(N),m=Object(x.a)(b,2),C=m[0],w=m[1],q=Object(l.useState)("flow"),J=Object(x.a)(q,2),F=J[0],R=J[1],T=Object(l.useState)(!1),z=Object(x.a)(T,2),E=z[0],A=z[1],D=Object(l.useState)(!1),B=Object(x.a)(D,2),M=B[0],V=B[1],L=Object(l.useState)(""),P=Object(x.a)(L,2),U=P[0],G=P[1],H=Object(l.useState)(N[0][p(0,N[0].length-1)]),K=Object(x.a)(H,2),Q=K[0],W=K[1],X=Object(l.useState)(y[0][p(0,y[0].length-1)]),Z=Object(x.a)(X,2),$=Z[0],_=Z[1],ee=function(){e("/",{replace:!0})},te=function(e){"agree"===e?A(!0):V(!0),j.a.post(t.domain+"/biz/update",{userId:t.userId,userName:t.userName,workRecordId:U,flowStatus:e}).then((function(t){"agree"===e?A(!1):V(!1),t&&t.data.success?h.c.alert({content:"".concat("agree"===e?"\u540c\u610f":"\u9a73\u56de","\u6210\u529f!"),onConfirm:function(){ee()}}):alert("request failed ---\x3e"+JSON.stringify(t))})).catch((function(t){"agree"===e?A(!1):V(!1),alert("httpRequest failed ---\x3e"+JSON.stringify(t))}))};return Object(l.useEffect)((function(){var e=a.get("data"),n=a.get("uuid");j.a.post(t.domain+"/biz/query/uuid",{uuid:n}).then((function(e){e&&e.data.success?G(e.data.data):alert("request failed ---\x3e"+JSON.stringify(e))})).catch((function(e){"agree"===F?A(!1):V(!1),alert("httpRequest failed ---\x3e"+JSON.stringify(e))})),console.log("routeParams",e);try{var l=JSON.parse(e);o.setFieldsValue({flow:(null===l||void 0===l?void 0:l.flowTitleName)||"\u7533\u8bf7\u5355",approve:"ww",person:(null===l||void 0===l?void 0:l.userName)||S[p(0,S.length-1)],applyReason:(null===l||void 0===l?void 0:l.flowDesc)||I[p(0,I.length-1)],applyMoney:(null===l||void 0===l?void 0:l.flowAmount)||k[p(0,k.length-1)]}),(null===l||void 0===l?void 0:l.flowTitleName)&&W(null===l||void 0===l?void 0:l.flowTitleName)}catch(i){o.setFieldsValue({flow:"\u7533\u8bf7\u5355",approve:"ww",person:S[p(0,S.length-1)],applyReason:I[p(0,I.length-1)],applyMoney:k[p(0,k.length-1)]})}}),[]),Object(O.jsxs)("div",{className:"bill",children:[Object(O.jsx)("div",{className:"header",children:Object(O.jsx)(h.f,{onBack:ee,children:Q})}),Object(O.jsxs)("div",{className:"form",children:[Object(O.jsxs)(h.d,{form:o,footer:Object(O.jsxs)("div",{className:"btns",children:[Object(O.jsx)(h.a,{block:!0,type:"submit",disabled:!U,loading:E,color:"primary",onClick:function(){return te("agree")},children:"\u540c\u610f"}),Object(O.jsx)(h.a,{block:!0,type:"submit",color:"danger",loading:M,disabled:!U,style:{marginLeft:"20px"},onClick:function(){return te("refuse")},children:"\u9a73\u56de"})]}),children:[Object(O.jsx)(h.d.Item,{name:"flow",label:"\u5355\u636e\u6a21\u677f",layout:"horizontal",children:Object(O.jsx)("div",{onClick:function(){w(N),R("flow")},children:Object(O.jsx)(h.e,{placeholder:"\u8bf7\u9009\u5355\u636e\u6a21\u677f",value:Q,disabled:!0})})}),Object(O.jsx)(h.d.Item,{name:"approve",label:"\u5ba1\u6279\u6d41",children:Object(O.jsx)("div",{onClick:function(){w(y),R("approve")},children:Object(O.jsx)(h.e,{placeholder:"\u8bf7\u9009\u62e9\u5ba1\u6279\u6d41",value:$,disabled:!0})})}),Object(O.jsx)(h.d.Item,{name:"person",label:"".concat((null===Q||void 0===Q?void 0:Q.substring(0,(null===Q||void 0===Q?void 0:Q.length)-1))||"\u62a5\u9500","\u4eba"),children:Object(O.jsx)(h.e,{placeholder:"\u8bf7\u8f93\u5165\u62a5\u9500\u4eba",disabled:!0})}),Object(O.jsx)(h.d.Item,{name:"applyReason",label:"".concat((null===Q||void 0===Q?void 0:Q.substring(0,(null===Q||void 0===Q?void 0:Q.length)-1))||"\u62a5\u9500","\u4e8b\u7531"),children:Object(O.jsx)(h.e,{placeholder:"\u8bf7\u8f93\u5165\u62a5\u9500\u4e8b\u7531",disabled:!0})}),Object(O.jsx)(h.d.Item,{name:"applyMoney",label:"".concat((null===Q||void 0===Q?void 0:Q.substring(0,(null===Q||void 0===Q?void 0:Q.length)-1))||"\u62a5\u9500","\u91d1\u989d"),children:Object(O.jsx)(h.e,{placeholder:"\u8bf7\u8f93\u5165\u62a5\u9500\u91d1\u989d",type:"number",disabled:!0})})]}),Object(O.jsx)(h.g,{columns:C,visible:r,onClose:function(){u(!1)},value:Q,onConfirm:function(e){"flow"===F?W(e[0]):_(e[0]),o.setFieldsValue(Object(g.a)({},F,e[0]))}})]})]})},w=n(12),q=n.n(w),J=n(27),F=n(7),R=(n(539),n(137)),T=n.n(R),z=[{label:"\u7533\u8bf7\u5355",value:"\u7533\u8bf7\u5355"},{label:"\u62a5\u9500\u5355",value:"\u62a5\u9500\u5355"},{label:"\u501f\u6b3e\u5355",value:"\u501f\u6b3e\u5355"}],E=function(){var e=Object(l.useContext)(Y);console.log("-----",e);var t=Object(f.f)(),n=h.d.useForm(),i=Object(x.a)(n,1)[0],a=Object(l.useState)(!1),c=Object(x.a)(a,2),o=c[0],s=c[1],d=Object(l.useState)(!1),r=Object(x.a)(d,2),u=r[0],b=r[1],v=Object(l.useState)("\u7533\u8bf7\u5355"),m=Object(x.a)(v,2),p=m[0],N=m[1],y=Object(l.useState)("flow"),S=Object(x.a)(y,2),I=S[0],k=S[1],C=Object(l.useState)(z),w=Object(x.a)(C,2),R=w[0],E=w[1],A=Object(l.useState)([]),D=Object(x.a)(A,2),B=D[0],M=D[1],V=Object(l.useState)(""),L=Object(x.a)(V,2),P=L[0],U=L[1],G=function(){t("/",{replace:!0})},H=function(t){b(!0);var n=Object(F.a)(Object(F.a)({},t),{},{userName:P}),l=T.a.generate();j.a.post(e.domain+"/biz/createTask",Object(F.a)(Object(F.a)({},n),{},{uuid:l,url:"/#/bill?data=".concat(encodeURIComponent(JSON.stringify(n)),"&uuid=").concat(l)})).then((function(e){b(!1),e&&e.data.success?h.c.alert({content:"\u63d0\u4ea4\u5355\u636e\u6210\u529f!",onConfirm:function(){G()}}):alert("request failed ---\x3e"+JSON.stringify(e))})).catch((function(e){b(!1),alert("httpRequest failed ---\x3e"+JSON.stringify(e))}))},K=function(){var e=Object(J.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.validateFields();case 3:t=e.sent,console.log(t),H(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){j.a.post(e.domain+"/biz/query/user/list").then((function(e){if(e&&e.data.success){var t,n=(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data).map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e.userid}}));M(n)}else alert("request failed ---\x3e"+JSON.stringify(e))})).catch((function(e){alert("httpRequest failed ---\x3e"+JSON.stringify(e))}))};return Object(l.useEffect)((function(){i.setFieldsValue({flowTitleName:"\u7533\u8bf7\u5355"}),Q()}),[]),Object(O.jsxs)("div",{className:"apply",children:[Object(O.jsx)("div",{className:"header",children:Object(O.jsx)(h.f,{onBack:G,children:p})}),Object(O.jsxs)("div",{className:"form",children:[Object(O.jsxs)(h.d,{form:i,footer:Object(O.jsx)("div",{className:"btns",children:Object(O.jsx)(h.a,{block:!0,type:"submit",color:"primary",onClick:K,loading:u,children:"\u63d0\u4ea4\u9001\u5ba1"})}),children:[Object(O.jsx)(h.d.Item,{name:"flowTitleName",label:"\u5355\u636e\u6a21\u677f",layout:"horizontal",rules:[{required:!0,message:"\u5355\u636e\u6a21\u677f\u4e3a\u7a7a"}],children:Object(O.jsx)("div",{onClick:function(){E(z),k("flowTitleName"),!o&&s(!0)},children:Object(O.jsx)(h.e,{placeholder:"\u8bf7\u9009\u5355\u636e\u6a21\u677f",value:p,disabled:!0})})}),Object(O.jsx)(h.d.Item,{name:"flowName",label:"".concat((null===p||void 0===p?void 0:p.substring(0,(null===p||void 0===p?void 0:p.length)-1))||"\u62a5\u9500","\u5355\u540d\u5b57"),rules:[{required:!0,message:"".concat((null===p||void 0===p?void 0:p.substring(0,(null===p||void 0===p?void 0:p.length)-1))||"\u62a5\u9500","\u5355\u540d\u5b57\u4e0d\u80fd\u4e3a\u7a7a")}],children:Object(O.jsx)(h.e,{placeholder:"\u8bf7\u8f93\u5165".concat((null===p||void 0===p?void 0:p.substring(0,(null===p||void 0===p?void 0:p.length)-1))||"\u62a5\u9500","\u5355\u540d\u5b57")})}),Object(O.jsx)(h.d.Item,{name:"userId",label:"".concat((null===p||void 0===p?void 0:p.substring(0,(null===p||void 0===p?void 0:p.length)-1))||"\u62a5\u9500","\u4eba"),rules:[{required:!0,message:"".concat((null===p||void 0===p?void 0:p.substring(0,(null===p||void 0===p?void 0:p.length)-1))||"\u62a5\u9500","\u4eba\u4e0d\u80fd\u4e3a\u7a7a")}],children:Object(O.jsx)("div",{onClick:function(){(null===B||void 0===B?void 0:B.length)>0?(E(B),k("userId"),!o&&s(!0)):Q()},children:Object(O.jsx)(h.e,{placeholder:"\u8bf7\u9009\u62e9".concat((null===p||void 0===p?void 0:p.substring(0,(null===p||void 0===p?void 0:p.length)-1))||"\u62a5\u9500","\u4eba"),value:P,disabled:!0})})}),Object(O.jsx)(h.d.Item,{name:"flowDesc",label:"".concat((null===p||void 0===p?void 0:p.substring(0,(null===p||void 0===p?void 0:p.length)-1))||"\u62a5\u9500","\u4e8b\u7531"),rules:[{required:!0,message:"".concat((null===p||void 0===p?void 0:p.substring(0,(null===p||void 0===p?void 0:p.length)-1))||"\u62a5\u9500","\u4e8b\u7531\u4e0d\u80fd\u4e3a\u7a7a")}],children:Object(O.jsx)(h.e,{placeholder:"\u8bf7\u8f93\u5165".concat((null===p||void 0===p?void 0:p.substring(0,(null===p||void 0===p?void 0:p.length)-1))||"\u62a5\u9500","\u4e8b\u7531")})}),Object(O.jsx)(h.d.Item,{name:"flowAmount",label:"".concat((null===p||void 0===p?void 0:p.substring(0,(null===p||void 0===p?void 0:p.length)-1))||"\u62a5\u9500","\u91d1\u989d"),rules:[{required:!0,message:"".concat((null===p||void 0===p?void 0:p.substring(0,(null===p||void 0===p?void 0:p.length)-1))||"\u62a5\u9500","\u91d1\u989d\u4e0d\u80fd\u4e3a\u7a7a")}],children:Object(O.jsx)(h.e,{placeholder:"\u8bf7\u8f93\u5165".concat((null===p||void 0===p?void 0:p.substring(0,(null===p||void 0===p?void 0:p.length)-1))||"\u62a5\u9500","\u91d1\u989d")})})]}),Object(O.jsx)(h.b,{options:R,visible:o,onClose:function(){s(!1)},value:p,onConfirm:function(e){if(console.log("--------",e),"flowTitleName"===I)N(e[0]);else{var t=B.find((function(t){return(null===t||void 0===t?void 0:t.value)===e[0]}));U(t.label)}i.setFieldsValue(Object(g.a)({},I,e[0]))}})]})]})},A=(n(549),function(){return Object(O.jsxs)("div",{className:"main",children:[Object(O.jsx)("div",{className:"title",children:"\u53d1\u8d77\u62a5\u9500"}),Object(O.jsx)(h.a,{className:"button",block:!0,color:"primary",onClick:function(e){},children:"\u5f85\u529e\u5ba1\u6279"})]})}),D=(n(550),n(551),function(e){var t=e.id,n=e.title,l=e.submiter,i=e.reason,a=e.todo,c=Object(f.f)();return Object(O.jsxs)("div",{className:"todo-card",children:[Object(O.jsx)("div",{className:"todo-title",children:n}),Object(O.jsxs)("div",{className:"user",children:["\u63d0\u4ea4\u4eba\uff1a",l]}),Object(O.jsxs)("div",{className:"reason",children:["\u62a5\u9500\u4e8b\u7531\uff1a",i]}),Object(O.jsx)("div",{className:"btn-wrap",children:Object(O.jsx)(h.a,{onClick:function(){return delete a.forms,delete a.taskId,delete a.url,delete a.instanceId,void c("/todoDetail/".concat(t,"?data=").concat(encodeURIComponent(JSON.stringify(a))))},size:"small",color:"primary",children:"\u67e5\u770b\u8be6\u60c5"})})]})});function B(e,t){return Math.random()*(t-e+1)+e|0}var M=["\u5f20\u4e09","\u674e\u56db","\u738b\u4e94","\u8d75\u516d"],V=["\u7533\u8bf7\u53bb\u5317\u4eac\u7684\u51fa\u5dee\u62a5\u9500","\u62a5\u9500 4 \u6708\u4efd\u7684\u529e\u516c\u5ba4\u8d39\u7528","6 \u6708\u4efd\u56e2\u5efa\u8d39\u7528\u62a5\u9500"],L=function(){var e=Object(f.f)(),t=Object(l.useContext)(Y),n=Object(l.useState)([]),i=Object(x.a)(n,2),a=i[0],c=i[1],o=Object(l.useState)([]),s=Object(x.a)(o,2),d=s[0],r=s[1],u=Object(l.useState)(0),b=Object(x.a)(u,2),v=b[0],m=b[1],g=Object(l.useState)(0),p=Object(x.a)(g,2),N=p[0],y=p[1];return Object(l.useEffect)((function(){j.a.post(t.domain+"/biz/query/tasks",{userId:t.userId,userName:t.userName,taskStatus:1}).then((function(e){var t;if(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.success){var n,l,i=(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data)||{},a=(null===i||void 0===i||null===(l=i.result)||void 0===l?void 0:l.list)||[];a.forEach((function(e){((null===e||void 0===e?void 0:e.forms)||[]).forEach((function(t){(null===t||void 0===t?void 0:t.title)&&(e[null===t||void 0===t?void 0:t.title]=t.content)}))})),r(a),y(a.length)}else alert("request failed ---\x3e"+JSON.stringify(e))})).catch((function(e){alert("httpRequest failed ---\x3e"+JSON.stringify(e))})),j.a.post(t.domain+"/biz/query/tasks",{userId:t.userId,userName:t.userName,taskStatus:0}).then((function(e){var t;if(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.success){var n,l,i=(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data)||{},a=(null===i||void 0===i||null===(l=i.result)||void 0===l?void 0:l.list)||[];a.forEach((function(e){((null===e||void 0===e?void 0:e.forms)||[]).forEach((function(t){(null===t||void 0===t?void 0:t.title)&&(e[null===t||void 0===t?void 0:t.title]=t.content)}))})),c(a),m(a.length)}else alert("request failed ---\x3e"+JSON.stringify(e))})).catch((function(e){alert("httpRequest failed ---\x3e"+JSON.stringify(e))}))}),[t]),Object(O.jsxs)("div",{className:"todo-list",children:[Object(O.jsx)(h.f,{onBack:function(){e("/",{replace:!0})},children:"\u67e5\u770b\u5f85\u529e"}),Object(O.jsx)("div",{className:"nav-title"}),Object(O.jsxs)(h.h,{children:[Object(O.jsx)(h.h.Tab,{title:"\u672a\u5904\u7406 "+v,children:null===a||void 0===a?void 0:a.map((function(e){return Object(O.jsx)(D,{todo:e,id:e.instanceId,title:e.title,reason:(null===e||void 0===e?void 0:e["\u7533\u8bf7\u4e8b\u7531"])||V[B(0,V.length-1)],submiter:(null===e||void 0===e?void 0:e["\u62a5\u9500\u4eba"])||M[B(0,M.length-1)]},e.instanceId)}))},"\u672a\u5904\u7406"),Object(O.jsx)(h.h.Tab,{title:"\u5df2\u5904\u7406 "+N,children:null===d||void 0===d?void 0:d.map((function(e){return Object(O.jsx)(D,{todo:e,id:e.instanceId,title:e.title,reason:(null===e||void 0===e?void 0:e["\u7533\u8bf7\u4e8b\u7531"])||V[B(0,V.length-1)],submiter:(null===e||void 0===e?void 0:e["\u62a5\u9500\u4eba"])||M[B(0,M.length-1)]},e.instanceId)}))},"\u5df2\u5904\u7406")]})]})};n(552);function P(e,t){return Math.random()*(t-e+1)+e|0}var U=[["\u7533\u8bf7\u5355","\u62a5\u9500\u5355","\u501f\u6b3e\u5355"]],G=[["\u5ba1\u6279\u6d41A","\u5ba1\u6279\u6d41B","\u5ba1\u6279\u6d41C","\u5ba1\u6279\u6d41D","\u5ba1\u6279\u6d41E"]],H=["\u5f20\u4e09","\u674e\u56db","\u738b\u4e94","\u8d75\u516d"],K=["\u7533\u8bf7\u53bb\u5317\u4eac\u7684\u51fa\u5dee\u62a5\u9500","\u62a5\u9500 4 \u6708\u4efd\u7684\u529e\u516c\u5ba4\u8d39\u7528","6 \u6708\u4efd\u56e2\u5efa\u8d39\u7528\u62a5\u9500"],Q=[12,23,200,400,666],W=function(e){var t=Object(f.f)(),n=Object(l.useContext)(Y),i=h.d.useForm(),a=Object(x.a)(i,1)[0],c=Object(f.g)(),o=Object(v.b)(),s=Object(x.a)(o,2),d=s[0],r=(s[1],Object(l.useState)(!1)),u=Object(x.a)(r,2),b=u[0],m=u[1],g=Object(l.useState)(!1),p=Object(x.a)(g,2),N=p[0],y=p[1],S=function(){t("/todoList",{replace:!0})};return Object(l.useEffect)((function(){var e=d.get("data");console.log("routeParams",c,e);try{var t,n,l=JSON.parse(e);a.setFieldsValue({"\u5355\u636e\u6a21\u677f":(null===l||void 0===l||null===(t=l.title)||void 0===t||null===(n=t.split("\u7684"))||void 0===n?void 0:n[1])||U[0][P(0,U[0].length-1)],"\u5ba1\u6279\u6d41":G[0][P(0,G[0].length-1)],"\u62a5\u9500\u4eba":(null===l||void 0===l?void 0:l["\u62a5\u9500\u4eba"])||H[P(0,H.length-1)],"\u62a5\u9500\u4e8b\u7531":(null===l||void 0===l?void 0:l["\u7533\u8bf7\u4e8b\u7531"])||K[P(0,K.length-1)],"\u62a5\u9500\u91d1\u989d":(null===l||void 0===l?void 0:l["\u7533\u8bf7\u91d1\u989d"])||Q[P(0,Q.length-1)]}),console.log("routeParams",c,l)}catch(i){a.setFieldsValue({"\u5355\u636e\u6a21\u677f":U[0][P(0,U[0].length-1)],"\u5ba1\u6279\u6d41":G[0][P(0,G[0].length-1)],"\u62a5\u9500\u4eba":H[P(0,H.length-1)],"\u62a5\u9500\u4e8b\u7531":K[P(0,K.length-1)],"\u62a5\u9500\u91d1\u989d":Q[P(0,Q.length-1)]})}}),[]),Object(O.jsxs)("div",{className:"todo-detail",children:[Object(O.jsx)(h.f,{onBack:S,children:"\u5f85\u529e\u8be6\u60c5"}),Object(O.jsx)("div",{className:"todo-detail-content",children:Object(O.jsxs)(h.d,{form:a,footer:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(h.a,{block:!0,type:"submit",color:"primary",onClick:function(){var e=c.id;m(!0),j.a.post(n.domain+"/biz/update",{userId:n.userId,userName:n.userName,workRecordId:e,flowStatus:"agree"}).then((function(e){m(!1),e&&e.data.success?h.c.alert({content:"\u540c\u610f\u6210\u529f!",onConfirm:function(){S()}}):alert("request failed ---\x3e"+JSON.stringify(e))})).catch((function(e){m(!1),alert("httpRequest failed ---\x3e"+JSON.stringify(e))}))},loading:b,children:"\u540c\u610f"}),Object(O.jsx)(h.a,{block:!0,type:"submit",color:"danger",onClick:function(){var e=c.id;y(!0),j.a.post(n.domain+"/biz/update",{userId:n.userId,userName:n.userName,workRecordId:e,flowStatus:"refuse"}).then((function(e){y(!1),e&&e.data.success?h.c.alert({content:"\u9a73\u56de\u6210\u529f!",onConfirm:function(){S()}}):alert("request failed ---\x3e"+JSON.stringify(e))})).catch((function(e){y(!1),alert("httpRequest failed ---\x3e"+JSON.stringify(e))}))},loading:N,children:"\u9a73\u56de"})]}),children:[Object(O.jsx)(h.d.Item,{className:"row",layout:"horizontal",name:"\u5355\u636e\u6a21\u677f",label:"\u5355\u636e\u6a21\u677f",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5355\u636e\u6a21\u677f"}],children:Object(O.jsx)(h.e,{placeholder:"\u8bf7\u9009\u62e9\u5355\u636e\u6a21\u677f",disabled:!0,value:U[0][P(0,U[0].length-1)]})}),Object(O.jsx)(h.d.Item,{name:"\u5ba1\u6279\u6d41",label:"\u5ba1\u6279\u6d41",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5ba1\u6279\u6d41"}],children:Object(O.jsx)(h.e,{placeholder:"\u8bf7\u9009\u62e9\u5ba1\u6279\u6d41",disabled:!0,value:G[0][P(0,G[0].length-1)]})}),Object(O.jsx)(h.d.Item,{name:"\u62a5\u9500\u4eba",label:"\u62a5\u9500\u4eba",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u62a5\u9500\u4eba"}],children:Object(O.jsx)(h.e,{placeholder:"\u8bf7\u9009\u62e9\u62a5\u9500\u4eba",disabled:!0,value:H[P(0,H.length-1)]})}),Object(O.jsx)(h.d.Item,{name:"\u62a5\u9500\u4e8b\u7531",label:"\u62a5\u9500\u4e8b\u7531",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u62a5\u9500\u4e8b\u7531"}],children:Object(O.jsx)(h.i,{placeholder:"\u8bf7\u8f93\u5165\u62a5\u9500\u4e8b\u7531",disabled:!0,value:K[P(0,K.length-1)]})}),Object(O.jsx)(h.d.Item,{name:"\u62a5\u9500\u91d1\u989d",label:"\u62a5\u9500\u91d1\u989d",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u62a5\u9500\u91d1\u989d"}],children:Object(O.jsx)(h.e,{placeholder:"\u8bf7\u8f93\u5165\u62a5\u9500\u91d1\u989d",disabled:!0,value:Q[P(0,Q.length-1)]})})]})})]})};function X(){return Object(O.jsx)(v.a,{children:Object(O.jsxs)(f.c,{children:[Object(O.jsx)(f.a,{path:"/",element:Object(O.jsx)(m,{})}),Object(O.jsx)(f.a,{path:"/home",element:Object(O.jsx)(m,{})}),Object(O.jsx)(f.a,{path:"/bill",element:Object(O.jsx)(C,{})}),Object(O.jsx)(f.a,{path:"/apply",element:Object(O.jsx)(E,{})}),Object(O.jsx)(f.a,{path:"/todoApprove",element:Object(O.jsx)(A,{})}),Object(O.jsx)(f.a,{path:"/todoList",element:Object(O.jsx)(L,{})}),Object(O.jsx)(f.a,{path:"/todoDetail",element:Object(O.jsx)(W,{}),children:Object(O.jsx)(f.a,{path:":id",element:Object(O.jsx)(W,{})})})]})})}var Y=i.a.createContext({}),Z=function(e){Object(d.a)(n,e);var t=Object(r.a)(n);function n(e){var l;return Object(o.a)(this,n),(l=t.call(this,e)).state={domain:"",webDomain:"",corpId:"",authCode:"",userId:"",userName:""},l}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.login()}},{key:"render",value:function(){return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(Y.Provider,{value:this.state,children:Object(O.jsx)(X,{})}),Object(O.jsx)("div",{className:"fixName",children:this.state.userName?"\u6613\u5feb\u62a5":""})]})}},{key:"login",value:function(){var e=this;j.a.get(this.state.domain+"/getCorpId").then((function(t){if(t&&200===t.status){var n=t.data;e.setState({corpId:n}),e.loginAction(n)}else alert("login failed ---\x3e"+JSON.stringify(t))})).catch((function(e){alert("corpId err, "+JSON.stringify(e))}))}},{key:"loginAction",value:function(e){var t,n,l=this;null===b||void 0===b||null===(t=b.runtime)||void 0===t||null===(n=t.permission)||void 0===n||n.requestAuthCode({corpId:e,onSuccess:function(e){l.state.authCode=e.code,console.log("---------",e.code),j.a.get(l.state.domain+"/login?authCode="+e.code).then((function(e){if(e&&e.data.success){var t=e.data.data.userId,n=e.data.data.userName;console.log("\u767b\u5f55\u6210\u529f\uff0c\u4f60\u597d"+n+t),setTimeout((function(){l.setState({userId:t,userName:n})}),0)}else alert("login failed ---\x3e"+JSON.stringify(e))})).catch((function(e){alert("httpRequest failed ---\x3e"+JSON.stringify(e))}))},onFail:function(e){alert("requestAuthCode failed ---\x3e"+JSON.stringify(e))}}).catch((function(e){console.log(e)}))}}]),n}(i.a.Component),$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,555)).then((function(t){var n=t.getCLS,l=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),l(e),i(e),a(e),c(e)}))};c.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(Z,{})}),document.getElementById("root")),$()}},[[554,1,2]]]);
//# sourceMappingURL=main.5efe7b39.chunk.js.map